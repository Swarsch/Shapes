(function (cjs, an) {

var p; // shortcut to reference prototypes
var lib={};var ss={};var img={};
lib.ssMetadata = [
		{name:"PF1Asg02_S10195879J_XiaoJunYu_atlas_", frames: [[0,0,1602,1202]]},
		{name:"PF1Asg02_S10195879J_XiaoJunYu_atlas_2", frames: [[0,0,1602,1202]]},
		{name:"PF1Asg02_S10195879J_XiaoJunYu_atlas_3", frames: [[0,0,1602,1202]]},
		{name:"PF1Asg02_S10195879J_XiaoJunYu_atlas_4", frames: [[0,0,1602,1202]]},
		{name:"PF1Asg02_S10195879J_XiaoJunYu_atlas_5", frames: [[0,0,1602,1202]]},
		{name:"PF1Asg02_S10195879J_XiaoJunYu_atlas_6", frames: [[0,0,1602,1202]]},
		{name:"PF1Asg02_S10195879J_XiaoJunYu_atlas_7", frames: [[0,0,1602,1202]]},
		{name:"PF1Asg02_S10195879J_XiaoJunYu_atlas_8", frames: [[0,0,1602,1202]]},
		{name:"PF1Asg02_S10195879J_XiaoJunYu_atlas_9", frames: [[0,0,1602,1202]]},
		{name:"PF1Asg02_S10195879J_XiaoJunYu_atlas_10", frames: [[0,0,1497,1097]]},
		{name:"PF1Asg02_S10195879J_XiaoJunYu_atlas_11", frames: [[1450,0,205,277],[848,1127,409,89],[1259,1098,409,89],[1518,734,409,89],[1259,1007,409,89],[1450,279,409,89],[1450,370,409,89],[1496,825,409,89],[848,945,409,89],[1450,461,409,89],[1496,916,409,89],[1970,167,26,26],[1518,643,409,89],[1518,552,409,89],[1785,0,79,161],[1866,0,84,145],[1970,91,64,74],[0,0,846,1158],[848,404,600,200],[848,0,600,200],[1866,147,102,102],[1761,163,99,94],[1657,128,102,105],[1952,0,89,89],[848,202,600,200],[1657,0,126,126],[1862,251,86,86],[848,776,646,167],[848,606,668,168],[1952,91,16,16],[848,1036,409,89],[1259,1189,409,89],[411,1160,409,89],[0,1160,409,89]]}
];


// symbols:



(lib.CachedTexturedBitmap_1 = function() {
	this.initialize(ss["PF1Asg02_S10195879J_XiaoJunYu_atlas_11"]);
	this.gotoAndStop(0);
}).prototype = p = new cjs.Sprite();



(lib.CachedTexturedBitmap_10 = function() {
	this.initialize(ss["PF1Asg02_S10195879J_XiaoJunYu_atlas_11"]);
	this.gotoAndStop(1);
}).prototype = p = new cjs.Sprite();



(lib.CachedTexturedBitmap_11 = function() {
	this.initialize(ss["PF1Asg02_S10195879J_XiaoJunYu_atlas_11"]);
	this.gotoAndStop(2);
}).prototype = p = new cjs.Sprite();



(lib.CachedTexturedBitmap_12 = function() {
	this.initialize(ss["PF1Asg02_S10195879J_XiaoJunYu_atlas_11"]);
	this.gotoAndStop(3);
}).prototype = p = new cjs.Sprite();



(lib.CachedTexturedBitmap_13 = function() {
	this.initialize(ss["PF1Asg02_S10195879J_XiaoJunYu_atlas_11"]);
	this.gotoAndStop(4);
}).prototype = p = new cjs.Sprite();



(lib.CachedTexturedBitmap_14 = function() {
	this.initialize(ss["PF1Asg02_S10195879J_XiaoJunYu_atlas_11"]);
	this.gotoAndStop(5);
}).prototype = p = new cjs.Sprite();



(lib.CachedTexturedBitmap_15 = function() {
	this.initialize(ss["PF1Asg02_S10195879J_XiaoJunYu_atlas_11"]);
	this.gotoAndStop(6);
}).prototype = p = new cjs.Sprite();



(lib.CachedTexturedBitmap_16 = function() {
	this.initialize(ss["PF1Asg02_S10195879J_XiaoJunYu_atlas_11"]);
	this.gotoAndStop(7);
}).prototype = p = new cjs.Sprite();



(lib.CachedTexturedBitmap_17 = function() {
	this.initialize(ss["PF1Asg02_S10195879J_XiaoJunYu_atlas_11"]);
	this.gotoAndStop(8);
}).prototype = p = new cjs.Sprite();



(lib.CachedTexturedBitmap_18 = function() {
	this.initialize(ss["PF1Asg02_S10195879J_XiaoJunYu_atlas_11"]);
	this.gotoAndStop(9);
}).prototype = p = new cjs.Sprite();



(lib.CachedTexturedBitmap_19 = function() {
	this.initialize(ss["PF1Asg02_S10195879J_XiaoJunYu_atlas_11"]);
	this.gotoAndStop(10);
}).prototype = p = new cjs.Sprite();



(lib.CachedTexturedBitmap_2 = function() {
	this.initialize(ss["PF1Asg02_S10195879J_XiaoJunYu_atlas_11"]);
	this.gotoAndStop(11);
}).prototype = p = new cjs.Sprite();



(lib.CachedTexturedBitmap_20 = function() {
	this.initialize(ss["PF1Asg02_S10195879J_XiaoJunYu_atlas_11"]);
	this.gotoAndStop(12);
}).prototype = p = new cjs.Sprite();



(lib.CachedTexturedBitmap_21 = function() {
	this.initialize(ss["PF1Asg02_S10195879J_XiaoJunYu_atlas_11"]);
	this.gotoAndStop(13);
}).prototype = p = new cjs.Sprite();



(lib.CachedTexturedBitmap_22 = function() {
	this.initialize(ss["PF1Asg02_S10195879J_XiaoJunYu_atlas_11"]);
	this.gotoAndStop(14);
}).prototype = p = new cjs.Sprite();



(lib.CachedTexturedBitmap_23 = function() {
	this.initialize(ss["PF1Asg02_S10195879J_XiaoJunYu_atlas_11"]);
	this.gotoAndStop(15);
}).prototype = p = new cjs.Sprite();



(lib.CachedTexturedBitmap_24 = function() {
	this.initialize(ss["PF1Asg02_S10195879J_XiaoJunYu_atlas_11"]);
	this.gotoAndStop(16);
}).prototype = p = new cjs.Sprite();



(lib.CachedTexturedBitmap_25 = function() {
	this.initialize(ss["PF1Asg02_S10195879J_XiaoJunYu_atlas_11"]);
	this.gotoAndStop(17);
}).prototype = p = new cjs.Sprite();



(lib.CachedTexturedBitmap_26 = function() {
	this.initialize(ss["PF1Asg02_S10195879J_XiaoJunYu_atlas_11"]);
	this.gotoAndStop(18);
}).prototype = p = new cjs.Sprite();



(lib.CachedTexturedBitmap_27 = function() {
	this.initialize(ss["PF1Asg02_S10195879J_XiaoJunYu_atlas_11"]);
	this.gotoAndStop(19);
}).prototype = p = new cjs.Sprite();



(lib.CachedTexturedBitmap_28 = function() {
	this.initialize(ss["PF1Asg02_S10195879J_XiaoJunYu_atlas_11"]);
	this.gotoAndStop(20);
}).prototype = p = new cjs.Sprite();



(lib.CachedTexturedBitmap_29 = function() {
	this.initialize(ss["PF1Asg02_S10195879J_XiaoJunYu_atlas_11"]);
	this.gotoAndStop(21);
}).prototype = p = new cjs.Sprite();



(lib.CachedTexturedBitmap_3 = function() {
	this.initialize(ss["PF1Asg02_S10195879J_XiaoJunYu_atlas_11"]);
	this.gotoAndStop(22);
}).prototype = p = new cjs.Sprite();



(lib.CachedTexturedBitmap_30 = function() {
	this.initialize(ss["PF1Asg02_S10195879J_XiaoJunYu_atlas_11"]);
	this.gotoAndStop(23);
}).prototype = p = new cjs.Sprite();



(lib.CachedTexturedBitmap_31 = function() {
	this.initialize(ss["PF1Asg02_S10195879J_XiaoJunYu_atlas_11"]);
	this.gotoAndStop(24);
}).prototype = p = new cjs.Sprite();



(lib.CachedTexturedBitmap_32 = function() {
	this.initialize(ss["PF1Asg02_S10195879J_XiaoJunYu_atlas_11"]);
	this.gotoAndStop(25);
}).prototype = p = new cjs.Sprite();



(lib.CachedTexturedBitmap_33 = function() {
	this.initialize(ss["PF1Asg02_S10195879J_XiaoJunYu_atlas_11"]);
	this.gotoAndStop(26);
}).prototype = p = new cjs.Sprite();



(lib.CachedTexturedBitmap_34 = function() {
	this.initialize(ss["PF1Asg02_S10195879J_XiaoJunYu_atlas_11"]);
	this.gotoAndStop(27);
}).prototype = p = new cjs.Sprite();



(lib.CachedTexturedBitmap_35 = function() {
	this.initialize(ss["PF1Asg02_S10195879J_XiaoJunYu_atlas_11"]);
	this.gotoAndStop(28);
}).prototype = p = new cjs.Sprite();



(lib.CachedTexturedBitmap_36 = function() {
	this.initialize(ss["PF1Asg02_S10195879J_XiaoJunYu_atlas_6"]);
	this.gotoAndStop(0);
}).prototype = p = new cjs.Sprite();



(lib.CachedTexturedBitmap_37 = function() {
	this.initialize(ss["PF1Asg02_S10195879J_XiaoJunYu_atlas_4"]);
	this.gotoAndStop(0);
}).prototype = p = new cjs.Sprite();



(lib.CachedTexturedBitmap_38 = function() {
	this.initialize(ss["PF1Asg02_S10195879J_XiaoJunYu_atlas_7"]);
	this.gotoAndStop(0);
}).prototype = p = new cjs.Sprite();



(lib.CachedTexturedBitmap_39 = function() {
	this.initialize(ss["PF1Asg02_S10195879J_XiaoJunYu_atlas_3"]);
	this.gotoAndStop(0);
}).prototype = p = new cjs.Sprite();



(lib.CachedTexturedBitmap_4 = function() {
	this.initialize(ss["PF1Asg02_S10195879J_XiaoJunYu_atlas_11"]);
	this.gotoAndStop(29);
}).prototype = p = new cjs.Sprite();



(lib.CachedTexturedBitmap_40 = function() {
	this.initialize(ss["PF1Asg02_S10195879J_XiaoJunYu_atlas_8"]);
	this.gotoAndStop(0);
}).prototype = p = new cjs.Sprite();



(lib.CachedTexturedBitmap_41 = function() {
	this.initialize(ss["PF1Asg02_S10195879J_XiaoJunYu_atlas_9"]);
	this.gotoAndStop(0);
}).prototype = p = new cjs.Sprite();



(lib.CachedTexturedBitmap_42 = function() {
	this.initialize(ss["PF1Asg02_S10195879J_XiaoJunYu_atlas_5"]);
	this.gotoAndStop(0);
}).prototype = p = new cjs.Sprite();



(lib.CachedTexturedBitmap_43 = function() {
	this.initialize(ss["PF1Asg02_S10195879J_XiaoJunYu_atlas_"]);
	this.gotoAndStop(0);
}).prototype = p = new cjs.Sprite();



(lib.CachedTexturedBitmap_44 = function() {
	this.initialize(ss["PF1Asg02_S10195879J_XiaoJunYu_atlas_2"]);
	this.gotoAndStop(0);
}).prototype = p = new cjs.Sprite();



(lib.CachedTexturedBitmap_5 = function() {
	this.initialize(ss["PF1Asg02_S10195879J_XiaoJunYu_atlas_10"]);
	this.gotoAndStop(0);
}).prototype = p = new cjs.Sprite();



(lib.CachedTexturedBitmap_6 = function() {
	this.initialize(ss["PF1Asg02_S10195879J_XiaoJunYu_atlas_11"]);
	this.gotoAndStop(30);
}).prototype = p = new cjs.Sprite();



(lib.CachedTexturedBitmap_7 = function() {
	this.initialize(ss["PF1Asg02_S10195879J_XiaoJunYu_atlas_11"]);
	this.gotoAndStop(31);
}).prototype = p = new cjs.Sprite();



(lib.CachedTexturedBitmap_8 = function() {
	this.initialize(ss["PF1Asg02_S10195879J_XiaoJunYu_atlas_11"]);
	this.gotoAndStop(32);
}).prototype = p = new cjs.Sprite();



(lib.CachedTexturedBitmap_9 = function() {
	this.initialize(ss["PF1Asg02_S10195879J_XiaoJunYu_atlas_11"]);
	this.gotoAndStop(33);
}).prototype = p = new cjs.Sprite();
// helper functions:

function mc_symbol_clone() {
	var clone = this._cloneProps(new this.constructor(this.mode, this.startPosition, this.loop));
	clone.gotoAndStop(this.currentFrame);
	clone.paused = this.paused;
	clone.framerate = this.framerate;
	return clone;
}

function getMCSymbolPrototype(symbol, nominalBounds, frameBounds) {
	var prototype = cjs.extend(symbol, cjs.MovieClip);
	prototype.clone = mc_symbol_clone;
	prototype.nominalBounds = nominalBounds;
	prototype.frameBounds = frameBounds;
	return prototype;
	}


(lib.twall = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.instance = new lib.CachedTexturedBitmap_36();
	this.instance.parent = this;
	this.instance.setTransform(-0.5,-0.5,0.5,0.5);

	this.instance_1 = new lib.CachedTexturedBitmap_37();
	this.instance_1.parent = this;
	this.instance_1.setTransform(-0.5,-0.5,0.5,0.5);

	this.instance_2 = new lib.CachedTexturedBitmap_38();
	this.instance_2.parent = this;
	this.instance_2.setTransform(-0.5,-0.5,0.5,0.5);

	this.instance_3 = new lib.CachedTexturedBitmap_39();
	this.instance_3.parent = this;
	this.instance_3.setTransform(-0.5,-0.5,0.5,0.5);

	this.instance_4 = new lib.CachedTexturedBitmap_40();
	this.instance_4.parent = this;
	this.instance_4.setTransform(-0.5,-0.5,0.5,0.5);

	this.instance_5 = new lib.CachedTexturedBitmap_41();
	this.instance_5.parent = this;
	this.instance_5.setTransform(-0.5,-0.5,0.5,0.5);

	this.instance_6 = new lib.CachedTexturedBitmap_42();
	this.instance_6.parent = this;
	this.instance_6.setTransform(-0.5,-0.5,0.5,0.5);

	this.instance_7 = new lib.CachedTexturedBitmap_43();
	this.instance_7.parent = this;
	this.instance_7.setTransform(-0.5,-0.5,0.5,0.5);

	this.instance_8 = new lib.CachedTexturedBitmap_44();
	this.instance_8.parent = this;
	this.instance_8.setTransform(-0.5,-0.5,0.5,0.5);

	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance}]}).to({state:[{t:this.instance_1}]},1).to({state:[{t:this.instance_2}]},1).to({state:[{t:this.instance_3}]},1).to({state:[{t:this.instance_4}]},1).to({state:[{t:this.instance_5}]},1).to({state:[{t:this.instance_6}]},1).to({state:[{t:this.instance_7}]},1).to({state:[{t:this.instance_8}]},1).wait(1));

}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(-0.5,-0.5,801,601);


(lib.ttbtn = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.instance = new lib.CachedTexturedBitmap_35();
	this.instance.parent = this;
	this.instance.setTransform(0,0,0.5,0.5);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

}).prototype = getMCSymbolPrototype(lib.ttbtn, new cjs.Rectangle(0,0,334,84), null);


(lib.tit = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.instance = new lib.CachedTexturedBitmap_34();
	this.instance.parent = this;
	this.instance.setTransform(0,0,0.5,0.5);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

}).prototype = getMCSymbolPrototype(lib.tit, new cjs.Rectangle(0,0,323,83.5), null);


(lib.triangle = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.health = new cjs.Text("5", "12px 'Burbank Big Cd Bd'", "#999999");
	this.health.name = "health";
	this.health.lineHeight = 14;
	this.health.lineWidth = 10;
	this.health.parent = this;
	this.health.setTransform(22.5,-6.15);

	this.instance = new lib.CachedTexturedBitmap_33();
	this.instance.parent = this;
	this.instance.setTransform(-0.3,-21,0.5,0.5);

	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance},{t:this.health}]}).wait(1));

}).prototype = getMCSymbolPrototype(lib.triangle, new cjs.Rectangle(-0.3,-21,43,43), null);


(lib.dmgUp = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.instance = new lib.CachedTexturedBitmap_32();
	this.instance.parent = this;
	this.instance.setTransform(-31.45,-31.45,0.5,0.5);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

}).prototype = getMCSymbolPrototype(lib.dmgUp, new cjs.Rectangle(-31.4,-31.4,63,63), null);


(lib.st = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.instance = new lib.CachedTexturedBitmap_31();
	this.instance.parent = this;
	this.instance.setTransform(0,0,0.5,0.5);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

}).prototype = getMCSymbolPrototype(lib.st, new cjs.Rectangle(0,0,300,100), null);


(lib.ss = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.instance = new lib.CachedTexturedBitmap_30();
	this.instance.parent = this;
	this.instance.setTransform(-1.5,-1.5,0.5,0.5);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

}).prototype = getMCSymbolPrototype(lib.ss, new cjs.Rectangle(-1.5,-1.5,44.5,44.5), null);


(lib.poly = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.health = new cjs.Text("2", "10px 'Burbank Big Cd Bd'");
	this.health.name = "health";
	this.health.lineHeight = 12;
	this.health.lineWidth = 18;
	this.health.parent = this;
	this.health.setTransform(-8.85,-6.15);

	this.instance = new lib.CachedTexturedBitmap_29();
	this.instance.parent = this;
	this.instance.setTransform(-24.75,-23.75,0.5,0.5);

	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance},{t:this.health}]}).wait(1));

}).prototype = getMCSymbolPrototype(lib.poly, new cjs.Rectangle(-24.7,-23.7,49.5,47), null);


(lib.play = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.instance = new lib.CachedTexturedBitmap_28();
	this.instance.parent = this;
	this.instance.setTransform(-50.45,-25.8,0.5,0.5);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

}).prototype = getMCSymbolPrototype(lib.play, new cjs.Rectangle(-50.4,-25.8,51,51), null);


(lib.list = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.instance = new lib.CachedTexturedBitmap_27();
	this.instance.parent = this;
	this.instance.setTransform(0,0,0.5,0.5);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

}).prototype = getMCSymbolPrototype(lib.list, new cjs.Rectangle(0,0,300,100), null);


(lib.ins = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.instance = new lib.CachedTexturedBitmap_26();
	this.instance.parent = this;
	this.instance.setTransform(0,0,0.5,0.5);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

}).prototype = getMCSymbolPrototype(lib.ins, new cjs.Rectangle(0,0,300,100), null);


(lib.hp = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.instance = new lib.CachedTexturedBitmap_21();
	this.instance.parent = this;
	this.instance.setTransform(-2.35,-2.35,0.5,0.5);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

}).prototype = getMCSymbolPrototype(lib.hp, new cjs.Rectangle(-2.3,-2.3,204.5,44.5), null);


(lib.healthpack = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.instance = new lib.CachedTexturedBitmap_24();
	this.instance.parent = this;
	this.instance.setTransform(-26.4,-25.75,0.8075,0.8075);

	this.instance_1 = new lib.CachedTexturedBitmap_23();
	this.instance_1.parent = this;
	this.instance_1.setTransform(-10.2,-53.75,0.8075,0.8075);

	this.instance_2 = new lib.CachedTexturedBitmap_22();
	this.instance_2.parent = this;
	this.instance_2.setTransform(-54.4,-60.25,0.8075,0.8075);

	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance_2},{t:this.instance_1},{t:this.instance}]}).wait(1));

}).prototype = getMCSymbolPrototype(lib.healthpack, new cjs.Rectangle(-54.4,-60.2,112.1,130), null);


(lib.GO = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.kill = new cjs.Text("0", "77px 'Burbank Big Cd Bd'");
	this.kill.name = "kill";
	this.kill.lineHeight = 79;
	this.kill.lineWidth = 244;
	this.kill.parent = this;
	this.kill.setTransform(405,177.3);

	this.instance = new lib.CachedTexturedBitmap_5();
	this.instance.parent = this;
	this.instance.setTransform(0,0,0.5,0.5);

	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance},{t:this.kill}]}).wait(1));

}).prototype = getMCSymbolPrototype(lib.GO, new cjs.Rectangle(0,0,748.5,548.5), null);


(lib.ebull = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.instance = new lib.CachedTexturedBitmap_4();
	this.instance.parent = this;
	this.instance.setTransform(-4.15,-4.15,0.5,0.5);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

}).prototype = getMCSymbolPrototype(lib.ebull, new cjs.Rectangle(-4.1,-4.1,8,8), null);


(lib.c1 = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.instance = new lib.CachedTexturedBitmap_3();
	this.instance.parent = this;
	this.instance.setTransform(0,-1.55,0.5,0.5);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

}).prototype = getMCSymbolPrototype(lib.c1, new cjs.Rectangle(0,-1.5,51,52.5), null);


(lib.bull = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.instance = new lib.CachedTexturedBitmap_2();
	this.instance.parent = this;
	this.instance.setTransform(-6.8,-6.75,0.5,0.5);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

}).prototype = getMCSymbolPrototype(lib.bull, new cjs.Rectangle(-6.8,-6.7,13,13), null);


(lib.SpeedUp = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.instance = new lib.CachedTexturedBitmap_1();
	this.instance.parent = this;
	this.instance.setTransform(-51.15,-69.5,0.5,0.5);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

}).prototype = getMCSymbolPrototype(lib.SpeedUp, new cjs.Rectangle(-51.1,-69.5,102.5,138.5), null);


(lib.square = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.instance = new lib.ss();
	this.instance.parent = this;
	this.instance.setTransform(1.6,-1.75,1,1,0,0,0,20.8,20.8);

	this.health = new cjs.Text("10", "10px 'Burbank Big Cd Bd'", "#535353");
	this.health.name = "health";
	this.health.lineHeight = 12;
	this.health.lineWidth = 8;
	this.health.parent = this;
	this.health.setTransform(-10.4,2.95);

	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.health},{t:this.instance}]}).wait(1));

}).prototype = getMCSymbolPrototype(lib.square, new cjs.Rectangle(-20.7,-24,44.5,45.5), null);


(lib.inst = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.instance = new lib.healthpack();
	this.instance.parent = this;
	this.instance.setTransform(60,277.7,0.6192,0.6192,0,0,0,-2.6,8.5);

	this.instance_1 = new lib.CachedTexturedBitmap_25();
	this.instance_1.parent = this;
	this.instance_1.setTransform(-6.55,-6.55,0.5,0.5);

	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance_1},{t:this.instance}]}).wait(1));

}).prototype = getMCSymbolPrototype(lib.inst, new cjs.Rectangle(-6.5,-6.5,423,579), null);


(lib.healthbar = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.instance = new lib.CachedTexturedBitmap_6();
	this.instance.parent = this;
	this.instance.setTransform(-2.35,-2.35,0.5,0.5);

	this.instance_1 = new lib.CachedTexturedBitmap_7();
	this.instance_1.parent = this;
	this.instance_1.setTransform(-2.35,-2.35,0.5,0.5);

	this.instance_2 = new lib.CachedTexturedBitmap_8();
	this.instance_2.parent = this;
	this.instance_2.setTransform(-2.35,-2.35,0.5,0.5);

	this.instance_3 = new lib.CachedTexturedBitmap_9();
	this.instance_3.parent = this;
	this.instance_3.setTransform(-2.35,-2.35,0.5,0.5);

	this.instance_4 = new lib.CachedTexturedBitmap_10();
	this.instance_4.parent = this;
	this.instance_4.setTransform(-2.35,-2.35,0.5,0.5);

	this.instance_5 = new lib.CachedTexturedBitmap_11();
	this.instance_5.parent = this;
	this.instance_5.setTransform(-2.35,-2.35,0.5,0.5);

	this.instance_6 = new lib.CachedTexturedBitmap_12();
	this.instance_6.parent = this;
	this.instance_6.setTransform(-2.35,-2.35,0.5,0.5);

	this.instance_7 = new lib.CachedTexturedBitmap_13();
	this.instance_7.parent = this;
	this.instance_7.setTransform(-2.35,-2.35,0.5,0.5);

	this.instance_8 = new lib.CachedTexturedBitmap_14();
	this.instance_8.parent = this;
	this.instance_8.setTransform(-2.35,-2.35,0.5,0.5);

	this.instance_9 = new lib.CachedTexturedBitmap_15();
	this.instance_9.parent = this;
	this.instance_9.setTransform(-2.35,-2.35,0.5,0.5);

	this.instance_10 = new lib.hp();
	this.instance_10.parent = this;
	this.instance_10.setTransform(100,20,1,1,0,0,0,100,20);

	this.health = new cjs.Text("10", "40px 'Burbank Big Cd Bd'");
	this.health.name = "health";
	this.health.lineHeight = 42;
	this.health.lineWidth = 60;
	this.health.parent = this;
	this.health.setTransform(20,2);

	this.instance_11 = new lib.CachedTexturedBitmap_16();
	this.instance_11.parent = this;
	this.instance_11.setTransform(-2.35,-2.35,0.5,0.5);

	this.instance_12 = new lib.CachedTexturedBitmap_17();
	this.instance_12.parent = this;
	this.instance_12.setTransform(-2.35,-2.35,0.5,0.5);

	this.instance_13 = new lib.CachedTexturedBitmap_18();
	this.instance_13.parent = this;
	this.instance_13.setTransform(-2.35,-2.35,0.5,0.5);

	this.instance_14 = new lib.CachedTexturedBitmap_19();
	this.instance_14.parent = this;
	this.instance_14.setTransform(-2.35,-2.35,0.5,0.5);

	this.instance_15 = new lib.CachedTexturedBitmap_20();
	this.instance_15.parent = this;
	this.instance_15.setTransform(-2.35,-2.35,0.5,0.5);

	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance}]}).to({state:[{t:this.instance_1}]},1).to({state:[{t:this.instance_2}]},1).to({state:[{t:this.instance_3}]},1).to({state:[{t:this.instance_4}]},1).to({state:[{t:this.instance_5}]},1).to({state:[{t:this.instance_6}]},1).to({state:[{t:this.instance_7}]},1).to({state:[{t:this.instance_8}]},1).to({state:[{t:this.instance_9}]},1).to({state:[{t:this.health},{t:this.instance_10}]},1).to({state:[{t:this.instance_11}]},1).to({state:[{t:this.instance_12}]},1).to({state:[{t:this.instance_13}]},1).to({state:[{t:this.instance_14}]},1).to({state:[{t:this.instance_15}]},1).wait(1));

}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(-2.3,-2.3,204.5,46.3);


(lib.c2 = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.close1 = new lib.c1();
	this.close1.name = "close1";
	this.close1.parent = this;
	this.close1.setTransform(25.5,24.7,1,1,0,0,0,25.5,24.7);

	this.timeline.addTween(cjs.Tween.get(this.close1).wait(1));

}).prototype = getMCSymbolPrototype(lib.c2, new cjs.Rectangle(0,-1.5,51,52.5), null);


// stage content:
(lib.PF1Asg02_S10195879J_XiaoJunYu = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// timeline functions:
	this.frame_0 = function() {
		//Variables
		var c, w, h, p;
		
		var playerW, playerH, player;
		
		var background;
		
		var start, instruction, leader, title;
		
		var wall, walls1, walls2, walls3, walls4;
		
		var mUp, mDown, mLeft, mRight;
		
		var keyDown, keyUp;
		
		var game;
		
		var dx = 5;
		
		var dy = 5;
		
		var tEnemy, triangle, rTangle, zNum, sNum, tNum;
		
		var hp, CD, pHealth;
		
		var dmg = 1;
		
		var CDT = 0;
		
		var ZCDT = 0;
		
		var PZT = 0;
		
		var ACDT = 0;
		
		var SCDT = 0;
		
		var ICDT = 0;
		
		var PCDT = 0;
		
		var SKCDT = 0;
		
		var SSCDT = 0;
		
		var PST = 0;
		
		var TCDT =0;
		
		var ENDCDT = 0;
		
		var ISCDT = 0;
		
		var turn;
		
		var slow = 0.15;
		
		var spawnArray;
		
		var	hpPack = new lib.healthpack();
		
		var speedBoost = new lib.SpeedUp();
		
		var dmgBoost = new lib.dmgUp();
		
		var eBullet = new lib.ebull();
		
		var powerUp = [hpPack, speedBoost, dmgBoost];
		
		var randomAxis;
		
		var skeleC1 = true;
		
		var skeleC2 = true;
		
		var skeleC3 = true;
		
		var skeleC4 = true;
		
		var trapperC1 = true;
		
		var trapperC2 = true;
		
		var trapperC3 = true;
		
		var trapperC4 = true;
		
		var skeleBulletRotaion;
		
		var skelex;
		
		var skeley;
		
		var kills = 0;
		
		var end, titleS;
		
		var check;
		
		
		
		//Boot Game
		function init() {
			c = createjs;
		
			game = new c.Container();
			stage.addChild(game);
			
			title = new lib.tit();
			stage.addChild(title);
			title.x = 250;
			title.y = 100;
		
			start = new lib.st();
			stage.addChild(start);
			start.x = 250;
			start.y = 250;
		
			instruction = new lib.ins();
			stage.addChild(instruction);
			instruction.x = 250;
			instruction.y = 350;
		
			wall = new lib.twall();
			stage.addChild(wall);
			wall.gotoAndStop(0);
			
			check = false;
			
			turn = 0;
			
		//Clicker Event
		
		instruction.addEventListener("click",
			instructs.bind(this));
		
		//leader.addEventListener("click",
		//lead.bind(this));
		
		start.addEventListener("click",
			begin.bind(this));
		
		
		}
		
		init();
		
		
		//Keybinds
		document.onkeydown = keyDown;
		document.onkeyup = keyUp;
		
		
		//Instructions
		function instructs(evt) {
			var instruct = new lib.inst();
			stage.addChild(instruct);
			instruct.x = 200;
			instruct.y = 20;
		
			var clo = new lib.c1();
			stage.addChild(clo);
			clo.x = 584.5;
			clo.y = 0;
		
			clo.addEventListener("click",
				close.bind(this));
		
			//close instruction
			function close(evt) {
				stage.removeChild(instruct);
				stage.removeChild(clo);
			}
		}
		
		//Start
		function begin(evt) {
			stage.removeChild(title);
			stage.removeChild(start);
			stage.removeChild(instruction);
			stage.removeChild(leader);
		
		
			hp = new lib.healthbar();
			stage.addChild(hp);
			hp.x = 30;
			hp.y = 30;
			hp.gotoAndStop(0);
		
			player = new lib.play();
			stage.addChild(player);
			player.x = 400;
			player.y = 300;
		
			c.Ticker.on("tick", rotate);
			c.Ticker.on("tick", gameLoop);
		
			stage.on("stagemousedown", mouseClick);
			bulletContainer = new c.Container();
			zombieContainer = new c.Container();
			skeleContainer = new c.Container();
			eBulletContainer = new c.Container();
			trapperContainer = new c.Container();
		
			playerW = player.nominalBounds.width;
			playerH = player.nominalBounds.height;
		
			w = stage.canvas.width;
			h = stage.canvas.height;
		
			stage.addChild(bulletContainer);
			stage.addChild(zombieContainer);
			stage.addChild(skeleContainer);
			stage.addChild(eBulletContainer);
			stage.addChild(trapperContainer);
			
		
			turn += 1;
		
			spawn();
		
			pHealth = hp.health.text;
			pHealth = 10;
			hp.gotoAndStop(pHealth);
		
		}
		
		//Boundaries
		function bound() {
			if (player.x <= (20 + (playerW / 2))) {
				player.x = (20 + (playerW / 2));
			}
			if (player.x >= (w - (playerW / 2 + 20))) {
				player.x = (w - (playerW / 2 + 20));
			}
			if (player.y <= (20 + (playerH / 2))) {
				player.y = (20 + (playerH / 2));
			}
			if (player.y >= (h - (playerH / 2 + 20))) {
				player.y = (h - (playerH / 2 + 20));
			}
		}
		
		//Movment
		function keyDown(evt) {
			if (evt.keyCode == 87) {
				mUp = true;
			}
			if (evt.keyCode == 83) {
				mDown = true;
			}
			if (evt.keyCode == 65) {
				mLeft = true;
			}
			if (evt.keyCode == 68) {
				mRight = true;
			}
		}
		
		function keyUp(evt) {
		
			if (evt.keyCode == 87) {
				mUp = false;
			}
			if (evt.keyCode == 83) {
				mDown = false;
			}
			if (evt.keyCode == 65) {
				mLeft = false;
			}
			if (evt.keyCode == 68) {
				mRight = false;
			}
		
		}
		
		function move() {
			if (mUp == true) {
				player.y -= dy;
			}
			if (mDown == true) {
				player.y += dy;
			}
			if (mLeft == true) {
				player.x -= dx;
			}
			if (mRight == true) {
				player.x += dx;
			}
		}
		
		//Rotaion
		function rotate() {
			var xdiff = stage.mouseX - player.x;
			var ydiff = stage.mouseY - player.y;
			var radians = Math.atan2(ydiff, xdiff);
			var degrees = radians / (Math.PI / 180);
			player.rotation = degrees;
		
		}
		
		//Shooting
		function mouseClick() {
		
			if (CDT <= 0) {
		
				var bullet = new lib.bull();
		
				bullet.rotation = player.rotation;
				bullet.x = player.x;
				bullet.y = player.y;
				bulletContainer.addChild(bullet);
		
				CDT = 0.5;
			}
		}
		
		//Game Rounds
		function gameRounds() {
			if (check == false) {
		
				if (turn == 1) {
					tEnemy = 2;
					zNum = 2;
					wall.gotoAndStop(1);
					spawnArray = [[380, 0]];
					check = true
				}
				if (turn == 1.5) {
					if (PCDT <= 0){
						var randomPower = powerUp[Math.round(Math.random() * (powerUp.length - 1))];
						tEnemy = 100;
						stage.addChild(randomPower);
						randomPower.x = w/2;
						randomPower.y = h/2;
						PCDT = 1000;
					}
				}
			
				if (turn == 2) {
					tEnemy = 4;
					zNum = 4;
					wall.gotoAndStop(2);
					spawnArray = [[380, 0],[0, 300]];
					check = true;
				}
				
				if (turn == 2.5) {
					if (PCDT <= 0){
						var randomPower = powerUp[Math.round(Math.random() * (powerUp.length - 1))];
						tEnemy = 100;
						stage.addChild(randomPower);
						randomPower.x = w/2;
						randomPower.y = h/2;
						PCDT = 1000;
					}
				}
				
				if (turn == 3) {
					tEnemy = 6;
					zNum = 5;
					sNum = 1;
					wall.gotoAndStop(3);
					spawnArray = [[380, 0],[0, 300],[150, 0]];
					check = true;
				}
				
				if (turn == 3.5) {
					if (PCDT <= 0){
						var randomPower = powerUp[Math.round(Math.random() * (powerUp.length - 1))];
						tEnemy = 100;
						stage.addChild(randomPower);
						randomPower.x = w/2;
						randomPower.y = h/2;
						PCDT = 1000;
					}
				}
				
				if (turn == 4) {
					tEnemy = 8;
					zNum = 6;
					sNum = 2;
					wall.gotoAndStop(4);
					spawnArray = [[380, 0],[0, 300],[150, 0],[380, 600]];
					check = true;
				}
				
				if (turn == 4.5) {
					if (PCDT <= 0){
						var randomPower = powerUp[Math.round(Math.random() * (powerUp.length - 1))];
						tEnemy = 100;
						stage.addChild(randomPower);
						randomPower.x = w/2;
						randomPower.y = h/2;
						PCDT = 1000;
					}
				}
				
				if (turn == 5) {
					tEnemy = 10;
					zNum = 6;
					sNum = 4;
					wall.gotoAndStop(5);
					spawnArray = [[380, 0],[0, 300],[150, 0],[380, 600],[550, 0]];
					check = true;
				}
				
				if (turn == 5.5) {
					if (PCDT <= 0){
						var randomPower = powerUp[Math.round(Math.random() * (powerUp.length - 1))];
						tEnemy = 100;
						stage.addChild(randomPower);
						randomPower.x = w/2;
						randomPower.y = h/2;
						PCDT = 1000;
					}
				}
				
				if (turn == 6) {
					tEnemy = 15;
					zNum = 3;
					sNum = 3;
					tNum = 9;
					wall.gotoAndStop(6);
					spawnArray = [[380, 0],[0, 300],[150, 0],[380, 600],[550, 0],[0, 100],[0.400]];
					check = true;
				}
				
				if (turn == 6.5) {
					if (PCDT <= 0){
						var randomPower = powerUp[Math.round(Math.random() * (powerUp.length - 1))];
						tEnemy = 100;
						stage.addChild(randomPower);
						randomPower.x = w/3;
						randomPower.y = h/2;
						stage.addChild(randomPower);
						randomPower.x = w/3;
						randomPower.y = h/2;
						PCDT = 1000;
					}
				}
				
				if (turn == 7) {
					tEnemy = 20;
					zNum = 4;
					sNum = 4;
					tNum = 12;
					wall.gotoAndStop(7);
					spawnArray = [[380, 0],[0, 300],[150, 0],[380, 600],[550, 0],[0, 100],[0.400],[150,600],[550,600]];
					check = true;
				}
				
				if (turn == 7.5) {
					if (PCDT <= 0){
						var randomPower = powerUp[Math.round(Math.random() * (powerUp.length - 1))];
						tEnemy = 100;
						stage.addChild(randomPower);
						randomPower.x = w/3;
						randomPower.y = h/2;
						stage.addChild(randomPower);
						randomPower.x = w/3;
						randomPower.y = h/2;
						PCDT = 1000;
					}
				}
				
				if (turn == 8) {
					tEnemy = 25;
					zNum = 5;
					sNum = 6;
					tNum = 15;
					wall.gotoAndStop(8);
					spawnArray = [[380, 0],[0, 300],[150, 0],[380, 600],[550, 0],[0, 100],[0.400],[150,600],[550,600],[800,100],[800,250],[800,400]];
					check = true;
				}
				
				if (turn == 8.5) {
					if (PCDT <= 0){
						var randomPower = powerUp[Math.round(Math.random() * (powerUp.length - 1))];
						tEnemy = 100;
						stage.addChild(randomPower);
						randomPower.x = w/3;
						randomPower.y = h/2;
						stage.addChild(randomPower);
						randomPower.x = w/3;
						randomPower.y = h/2;
						PCDT = 1000;
					}
				}
				
				if (turn == 9) {
					zNum = Math.round(Math.random()*10);
					sNum = Math.round(Math.random()*10);
					tNum = Math.round(Math.random()*20);
					tEnemy = zNum + sNum + tNum;
					wall.gotoAndStop(2);
					spawnArray = [[380, 0],[0, 300],[150, 0],[380, 600],[550, 0],[0, 100],[0.400],[150,600],[550,600],[800,100],[800,250],[800,400]];
					check = true;
				}
				
				hpPack.addEventListener('click',
					HealthPack.bind(this));
				
				speedBoost.addEventListener('click',
					Speed.bind(this));
				dmgBoost.addEventListener('click',
					Damage.bind(this));
			}
		}
		
		function HealthPack(evt){
			if (ICDT <=0) {
				if (pHealth >= 10){
					pHealth += 2;
					turn += 0.5;
					if (pHealth >= 16){
						pHealth = 15;
					}
				}else{
			pHealth += 2;
			turn += 0.5;
			if (pHealth >= 11) {
				pHealth = 10;
			}
		}
			hp.gotoAndStop(pHealth);
			stage.removeChild(hpPack);
			stage.removeChild(speedBoost);
			stage.removeChild(dmgBoost);
			ICDT = 3;
			}
		}
		
		function Speed(evt){
			if (ICDT <=0) {
				dy += 1;
				dx += 1;
				turn += 0.5;
				stage.removeChild(speedBoost);
				stage.removeChild(dmgBoost);
				stage.removeChild(hpPack);
				ICDT = 3;
			}
		}
		
		function Damage(evt){
			if (ICDT <= 0){
				dmg += 1;
				turn += 0.5;
				stage.removeChild(dmgBoost);
				stage.removeChild(speedBoost);
				stage.removeChild(hpPack);
				console.log('s' + dmg);
				ICDT = 3;
			}
		}
		
		
		//Enemy Spawn
		function spawn() {
			var zombie = new lib.square();
			var skele = new lib.triangle();
			var trapper = new lib.poly();
			if (tEnemy == 0) {
				turn += 0.5;
				PCDT = 0;
				console.log('d'+turn);
				check = false;
			}
		
		
			if (ZCDT <= 0) {
		
				if (tEnemy <= 99 && tEnemy >= 1 && zNum >= 1) {
					randomAxis = spawnArray[Math.round(Math.random() * (turn - 1))];
					zombie.x = randomAxis[0];
					zombie.y = randomAxis[1];
					zombieContainer.addChild(zombie);
					zNum -= 1;
					console.log('e' + tEnemy);
					ZCDT = 2;
				}
			}
			if (SCDT <= 0) {
				if (tEnemy <= 99 && tEnemy >= 1 && sNum >= 1) {
					randomAxis = spawnArray[Math.round(Math.random() * (turn - 1))];
					skele.x = randomAxis[0];
					skele.y = randomAxis[1];
					skeleContainer.addChild(skele);
					sNum -= 1;
					SCDT = 4;
		
				}
			}
			
			if (TCDT <= 0) {
				if (tEnemy <= 99 && tEnemy >= 1 && tNum >= 1) {
					randomAxis = spawnArray[Math.round(Math.random() * (turn - 1))];
					trapper.x = randomAxis[0];
					trapper.y = randomAxis[1];
					trapperContainer.addChild(trapper);
					tNum -= 1;
					TCDT = 0.5;
				}
			}
		}
		
		//Enemy movement
		function enemy() {
			//Zombie Movement
			for (var z = 0; z < zombieContainer.getNumChildren(); z++) {
				var zombie = zombieContainer.getChildAt(z);
				
				var zxdiff = zombie.x - player.x;
				var zydiff = zombie.y - player.y;
				var zradians = Math.atan2(zydiff, zxdiff);
				var zdegrees = zradians / (Math.PI / 180);
				zombie.rotation = zdegrees;
		
				if (zombie.x < player.x) {
					zombie.x += 2;
				}
				if (zombie.x > player.x) {
					zombie.x -= 2;
				}
				if (zombie.y < player.y) {
					zombie.y += 2;
				}
				if (zombie.y > player.y) {
					zombie.y -= 2;
				}
			}
			//Skele Movement
			for (var s = 0; s < skeleContainer.getNumChildren(); s++){
				var skele = skeleContainer.getChildAt(s);
				
				var skeleW = skele.nominalBounds.width;
				var skeleH = skele.nominalBounds.height;
				var sxdiff = skele.x - player.x;
				var sydiff = skele.y - player.y;
				var sradians = Math.atan2(sydiff, sxdiff);
				var sdegrees = sradians / (Math.PI / 180);
				skele.rotation = sdegrees;
				
				
			if (skele.x <= (20 + (skeleW / 2))) {
				skele.x = (20 + (skeleW / 2));
			}
			if (skele.x >= (w - (skeleW / 2 + 20))) {
				skele.x = (w - (skeleW / 2 + 20));
			}
			if (skele.y <= (20 + (skeleH / 2))) {
				skele.y = (20 + (skeleH / 2));
			}
			if (skele.y >= (h - (skeleH / 2 + 20))) {
				skele.y = (h - (skeleH / 2 + 20));
			}
				
				if (skeleC1 == true){
					if (skele.x < player.x){
						skele.x += 1; 
					}
				}
				
				if (skeleC2 == true){
					if (skele.x > player.x) {
						skele.x -= 1;
					}
				}
				
				if (skeleC3 == true){
					if (skele.y < player.y) {
						skele.y += 1;
					}
				}
				
				if (skeleC4 == true){
						if (skele.y > player.y) {
					skele.y -= 1;
					}
				}
				
				if (Math.abs(skele.x - player.x) < 100 && skele.x < player.x) {
					skele.x -= 2;
					skeleC1 = false;
				}else{
					skeleC1 = true;
				}
				
				if (Math.abs(skele.x - player.x) < 100 && skele.x > player.x) {
					skele.x += 2;
					skeleC2 = false;
				}else{
					skeleC2 = true;
				}
				if (Math.abs(skele.y - player.y) < 100 && skele.y < player.y) {
					skele.y -= 2;
					skeleC3 = false;
				}else{
					skeleC3 = true;
				}
				if (Math.abs(skele.y - player.y) <100 && skele.y > player.y) {
					skele.y += 2;
					skeleC4 = false;
				}else{
					skeleC4 = true;
				}
			}
			
			//Trapper
			for (var t = 0; t < trapperContainer.getNumChildren(); t++){
				var trapper = trapperContainer.getChildAt(t);
				
				var trapperW = trapper.nominalBounds.width;
				var trapperH = trapper.nominalBounds.height;
				
				if (trapper.x <= (20 + (trapperW / 2))) {
				trapper.x = (20 + (trapperW / 2));
			}
			if (trapper.x >= (w - (trapperW / 2 + 20))) {
				trapper.x = (w - (trapperW / 2 + 20));
			}
			if (trapper.y <= (20 + (trapperH / 2))) {
				trapper.y = (20 + (trapperH / 2));
			}
			if (trapper.y >= (h - (trapperH / 2 + 20))) {
				trapper.y = (h - (trapperH / 2 + 20));
			}
				
				if (trapperC1 == true){
					if (trapper.x < player.x){
						trapper.x += 10; 
					}
				}
				
				if (trapperC2 == true){
					if (trapper.x > player.x) {
						trapper.x -= 10;
					}
				}
				
				if (trapperC3 == true){
					if (trapper.y < player.y) {
						trapper.y += 10;
					}
				}
				
				if (trapperC4 == true){
						if (trapper.y > player.y) {
					trapper.y -= 10;
					}
				}
				
				if (Math.abs(trapper.x - player.x) < 50 && trapper.x < player.x) {
					trapper.x -= 10;
					trapperC1 = false;
				}else{
					trapperC1 = true;
				}
				
				if (Math.abs(trapper.x - player.x) < 50 && trapper.x > player.x) {
					trapper.x += 10;
					trapperC2 = false;
				}else{
					skeleC2 = true;
				}
				if (Math.abs(trapper.y - player.y) < 50 && trapper.y < player.y) {
					trapper.y -= 10;
					trapperC3 = false;
				}else{
					trapperC3 = true;
				}
				if (Math.abs(trapper.y - player.y) < 50 && trapper.y > player.y) {
					trapper.y += 10;
					trapperC4 = false;
				}else{
					trapperC4 = true;
				}
			}
		}
		
		function skeleShoot(){
			for (var s = 0; s < skeleContainer.getNumChildren(); s++){
				var skele = skeleContainer.getChildAt(s);
				
				var skeleW = skele.nominalBounds.width;
				var skeleH = skele.nominalBounds.height;
				var sxdiff = skele.x - player.x;
				var sydiff = skele.y - player.y;
				var sradians = Math.atan2(sydiff, sxdiff);
				var sdegrees = sradians / (Math.PI / 180);
				skele.rotation = sdegrees;
				
				if (SSCDT <= 0){
		
				eBullet.rotation = skeleContainer.getChildAt(s).rotation;
				eBullet.x = skele.x;
				eBullet.y = skele.y;
				eBulletContainer.addChild(eBullet);
		
				SSCDT = 1;
			}
		}
		}
		
		
		
		
		
		//Collision Player-EnemyBullet
		function skeleBullet(){
			
				for (var sb = 0; sb < eBulletContainer.getNumChildren(); sb++){
					var enemyBullet = eBulletContainer.getChildAt(sb);
					var sbx =(enemyBullet.x + enemyBullet.nominalBounds.width / 2) - (player.x + playerW / 2);
					var sby = (enemyBullet.y + enemyBullet.nominalBounds.height / 2) - (player.y + playerH / 2);
					var sbw = enemyBullet.nominalBounds.width / 2 + player.nominalBounds.width / 2;
					var sbh = enemyBullet.nominalBounds.height / 2 + player.nominalBounds.height / 2;
					if (Math.abs(sbx) < sbw) {
						if (Math.abs(sby) < sbh){
							pHealth -= 1;
							hp.gotoAndStop(pHealth);
							
							eBulletContainer.removeChild(eBullet);
					}
				}
			}
		}
		
		//Collision Player-Skele
		
		function playerSkele(){
			if (PST <= 0){
				for (var z = 0; z < skeleContainer.getNumChildren(); z++) {
					var skele = skeleContainer.getChildAt(z);
					var zx = (skele.x + skele.nominalBounds.width / 2) - (player.x + playerW / 2);
					var zy = (skele.y + skele.nominalBounds.height / 2) - (player.y + playerH / 2);
					var zbw = skele.nominalBounds.width / 2 + player.nominalBounds.width / 2;
					var zbh = skele.nominalBounds.height / 2 + player.nominalBounds.height / 2;
					if (Math.abs(zx) < zbw) {
						if (Math.abs(zy) < zbh) {
							pHealth -= 1;
							hp.gotoAndStop(pHealth);
							PST = 0.5;
						}
					}
				}
			}
		}
		
		//Collision Trapper-Bullet
		function trapperHit(){
			for (var z = 0; z < trapperContainer.getNumChildren(); z++) {
				var trapper = trapperContainer.getChildAt(z);
				for (var i = 0; i < bulletContainer.getNumChildren(); i++) {
					var bullet = bulletContainer.getChildAt(i);
					var zx = (trapper.x + trapper.nominalBounds.width / 2) - (bullet.x + bullet.nominalBounds.width / 2);
					var zy = (trapper.y + trapper.nominalBounds.height / 2) - (bullet.y + bullet.nominalBounds.height / 2);
					var zbw = trapper.nominalBounds.width / 2 + bullet.nominalBounds.width / 2;
					var zbh = trapper.nominalBounds.height / 2 + bullet.nominalBounds.height / 2;
					if (Math.abs(zx) < zbw) {
						if (Math.abs(zy) < zbh) {
							trapperContainer.getChildAt(z).health.text -= dmg;
							bulletContainer.removeChild(bullet);
							if (trapperContainer.getChildAt(z).health.text == 0) {
								trapperContainer.removeChild(trapper);
								kills += 1;
								tEnemy -= 1;
							}
						}
		
					}
				}
			}
			
		}
		
		//Collision Player-Zombie
		function playerZombie() {
			if (PZT <= 0) {
				for (var z = 0; z < zombieContainer.getNumChildren(); z++) {
					var zombie = zombieContainer.getChildAt(z);
					var zx = (zombie.x + zombie.nominalBounds.width / 2) - (player.x + playerW / 2);
					var zy = (zombie.y + zombie.nominalBounds.height / 2) - (player.y + playerH / 2);
					var zbw = zombie.nominalBounds.width / 2 + player.nominalBounds.width / 2;
					var zbh = zombie.nominalBounds.height / 2 + player.nominalBounds.height / 2;
					if (Math.abs(zx) < zbw) {
						if (Math.abs(zy) < zbh) {
							pHealth -= 1;
							hp.gotoAndStop(pHealth);
							PZT = 0.5;
						}
					}
				}
			}
		}
		
		
		//Collision Zombie-Bullet
		function zombieHit() {
			for (var z = 0; z < zombieContainer.getNumChildren(); z++) {
				var zombie = zombieContainer.getChildAt(z);
				for (var i = 0; i < bulletContainer.getNumChildren(); i++) {
					var bullet = bulletContainer.getChildAt(i);
					var zx = (zombie.x + zombie.nominalBounds.width / 2) - (bullet.x + bullet.nominalBounds.width / 2);
					var zy = (zombie.y + zombie.nominalBounds.height / 2) - (bullet.y + bullet.nominalBounds.height / 2);
					var zbw = zombie.nominalBounds.width / 2 + bullet.nominalBounds.width / 2;
					var zbh = zombie.nominalBounds.height / 2 + bullet.nominalBounds.height / 2;
					if (Math.abs(zx) < zbw) {
						if (Math.abs(zy) < zbh) {
							zombieContainer.getChildAt(z).health.text -= dmg;
							bulletContainer.removeChild(bullet);
							if (zombieContainer.getChildAt(z).health.text == 0) {
								zombieContainer.removeChild(zombie);
								kills += 1;
								tEnemy -= 1;
							}
						}
		
					}
				}
			}
		
		
		}
		
		//Collision Skele-Bullet
		function skeleHit() {
			for (var z = 0; z < skeleContainer.getNumChildren(); z++) {
				var skele = skeleContainer.getChildAt(z);
				for (var i = 0; i < bulletContainer.getNumChildren(); i++) {
					var bullet = bulletContainer.getChildAt(i);
					var zx = (skele.x + skele.nominalBounds.width / 2) - (bullet.x + bullet.nominalBounds.width / 2);
					var zy = (skele.y + skele.nominalBounds.height / 2) - (bullet.y + bullet.nominalBounds.height / 2);
					var zbw = skele.nominalBounds.width / 2 + bullet.nominalBounds.width / 2;
					var zbh = skele.nominalBounds.height / 2 + bullet.nominalBounds.height / 2;
					if (Math.abs(zx) < zbw) {
						if (Math.abs(zy) < zbh) {
							skeleContainer.getChildAt(z).health.text -= dmg;
							bulletContainer.removeChild(bullet);
							if (skeleContainer.getChildAt(z).health.text == 0) {
								skeleContainer.removeChild(skele);
								kills += 1;
								tEnemy -= 1;
							}
						}
		
					}
				}
			}
		}
		
		function endGame(){
			if (ENDCDT <= 0){
			if (pHealth <= 0){
		
			stage.removeChild(player);
		
			stage.off("stagemousedown", mouseClick);
		
			stage.removeChild(bulletContainer);
			stage.removeChild(zombieContainer);
			stage.removeChild(skeleContainer);
			stage.removeChild(eBulletContainer);
			stage.removeChild(trapperContainer);
			stage.removeChild(hp);
				
				end = new lib.GO();
				stage.addChild(end);
				end.x = 25;
				end.y = 25;
				
				titleS = new lib.ttbtn;
				stage.addChild(titleS);
				titleS.x = 200;
				titleS.y = 350;
				
				end.kill.text = kills;
				
				titleS.addEventListener('click',
					TitleScreen.bind(this));
					
					ENDCDT = 100;
				
			
				
			}
		}
		}
		
		function TitleScreen(evt){
			stage.removeChild(end);
			stage.removeChild(titleS);
			c.Ticker.off("tick", rotate);
			c.Ticker.off("tick", gameLoop);
		
			init();
			
		}
		
		
		
		
		//GameLoop
		function gameLoop(e) {
			gameRounds();
			move();
			bound();
			enemy();
			spawn();
			skeleShoot();
			skeleHit();
			skeleBullet();
			zombieHit();
			playerZombie();
			playerSkele();
			trapperHit();
			endGame()
			for (var i = 0; i < bulletContainer.getNumChildren(); i++) {
				var bullet = bulletContainer.getChildAt(i);
				bullet.x += Math.cos(bullet.rotation / 180 * Math.PI) * 10;
				bullet.y += Math.sin(bullet.rotation / 180 * Math.PI) * 10;
				if (bullet.x > w - 20 ||
					bullet.x < 20 || bullet.y < 20 ||
					bullet.y > h - 20) {
					bulletContainer.removeChild(bullet);
				}
			}
			
			for (var s = 0; s < eBulletContainer.getNumChildren(); s++) {
				var eBullet = eBulletContainer.getChildAt(s);
				eBullet.x -= Math.cos(eBullet.rotation / 180 * Math.PI) * 10;
				eBullet.y -= Math.sin(eBullet.rotation / 180 * Math.PI) * 10;
				if (eBullet.x > w  ||
					eBullet.x < 0 || eBullet.y < 0 ||
					eBullet.y > h ) {
					eBulletContainer.removeChild(eBullet);
				}
			}
		
			CDT -= e.delta / 1000;
		
			ZCDT -= e.delta / 1000;
		
			PZT -= e.delta / 1000;
			
			ICDT -= e.delta / 1000;
			
			PCDT -= e.delta / 1000;
			
			SCDT -= e.delta / 1000;
			
			TCDT -= e.delta / 1000;
			
			SSCDT -= e.delta / 1000;
			
			ENDCDT -= e.delta / 1000;
			
			ISCDT -= e.delta / 1000;
			
			ACDT -= e.delta / 1000;
		}
	}

	// actions tween:
	this.timeline.addTween(cjs.Tween.get(this).call(this.frame_0).wait(1));

}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(0,0,0,0);
// library properties:
lib.properties = {
	id: '35A91B7A1BAFD34A8EF78531C8100670',
	width: 800,
	height: 600,
	fps: 24,
	color: "#FFFFFF",
	opacity: 1.00,
	manifest: [
		{src:"images/PF1Asg02_S10195879J_XiaoJunYu_atlas_.png", id:"PF1Asg02_S10195879J_XiaoJunYu_atlas_"},
		{src:"images/PF1Asg02_S10195879J_XiaoJunYu_atlas_2.png", id:"PF1Asg02_S10195879J_XiaoJunYu_atlas_2"},
		{src:"images/PF1Asg02_S10195879J_XiaoJunYu_atlas_3.png", id:"PF1Asg02_S10195879J_XiaoJunYu_atlas_3"},
		{src:"images/PF1Asg02_S10195879J_XiaoJunYu_atlas_4.png", id:"PF1Asg02_S10195879J_XiaoJunYu_atlas_4"},
		{src:"images/PF1Asg02_S10195879J_XiaoJunYu_atlas_5.png", id:"PF1Asg02_S10195879J_XiaoJunYu_atlas_5"},
		{src:"images/PF1Asg02_S10195879J_XiaoJunYu_atlas_6.png", id:"PF1Asg02_S10195879J_XiaoJunYu_atlas_6"},
		{src:"images/PF1Asg02_S10195879J_XiaoJunYu_atlas_7.png", id:"PF1Asg02_S10195879J_XiaoJunYu_atlas_7"},
		{src:"images/PF1Asg02_S10195879J_XiaoJunYu_atlas_8.png", id:"PF1Asg02_S10195879J_XiaoJunYu_atlas_8"},
		{src:"images/PF1Asg02_S10195879J_XiaoJunYu_atlas_9.png", id:"PF1Asg02_S10195879J_XiaoJunYu_atlas_9"},
		{src:"images/PF1Asg02_S10195879J_XiaoJunYu_atlas_10.png", id:"PF1Asg02_S10195879J_XiaoJunYu_atlas_10"},
		{src:"images/PF1Asg02_S10195879J_XiaoJunYu_atlas_11.png", id:"PF1Asg02_S10195879J_XiaoJunYu_atlas_11"}
	],
	preloads: []
};



// bootstrap callback support:

(lib.Stage = function(canvas) {
	createjs.Stage.call(this, canvas);
}).prototype = p = new createjs.Stage();

p.setAutoPlay = function(autoPlay) {
	this.tickEnabled = autoPlay;
}
p.play = function() { this.tickEnabled = true; this.getChildAt(0).gotoAndPlay(this.getTimelinePosition()) }
p.stop = function(ms) { if(ms) this.seek(ms); this.tickEnabled = false; }
p.seek = function(ms) { this.tickEnabled = true; this.getChildAt(0).gotoAndStop(lib.properties.fps * ms / 1000); }
p.getDuration = function() { return this.getChildAt(0).totalFrames / lib.properties.fps * 1000; }

p.getTimelinePosition = function() { return this.getChildAt(0).currentFrame / lib.properties.fps * 1000; }

an.bootcompsLoaded = an.bootcompsLoaded || [];
if(!an.bootstrapListeners) {
	an.bootstrapListeners=[];
}

an.bootstrapCallback=function(fnCallback) {
	an.bootstrapListeners.push(fnCallback);
	if(an.bootcompsLoaded.length > 0) {
		for(var i=0; i<an.bootcompsLoaded.length; ++i) {
			fnCallback(an.bootcompsLoaded[i]);
		}
	}
};

an.compositions = an.compositions || {};
an.compositions['35A91B7A1BAFD34A8EF78531C8100670'] = {
	getStage: function() { return exportRoot.getStage(); },
	getLibrary: function() { return lib; },
	getSpriteSheet: function() { return ss; },
	getImages: function() { return img; }
};

an.compositionLoaded = function(id) {
	an.bootcompsLoaded.push(id);
	for(var j=0; j<an.bootstrapListeners.length; j++) {
		an.bootstrapListeners[j](id);
	}
}

an.getComposition = function(id) {
	return an.compositions[id];
}


an.makeResponsive = function(isResp, respDim, isScale, scaleType, domContainers) {		
	var lastW, lastH, lastS=1;		
	window.addEventListener('resize', resizeCanvas);		
	resizeCanvas();		
	function resizeCanvas() {			
		var w = lib.properties.width, h = lib.properties.height;			
		var iw = window.innerWidth, ih=window.innerHeight;			
		var pRatio = window.devicePixelRatio || 1, xRatio=iw/w, yRatio=ih/h, sRatio=1;			
		if(isResp) {                
			if((respDim=='width'&&lastW==iw) || (respDim=='height'&&lastH==ih)) {                    
				sRatio = lastS;                
			}				
			else if(!isScale) {					
				if(iw<w || ih<h)						
					sRatio = Math.min(xRatio, yRatio);				
			}				
			else if(scaleType==1) {					
				sRatio = Math.min(xRatio, yRatio);				
			}				
			else if(scaleType==2) {					
				sRatio = Math.max(xRatio, yRatio);				
			}			
		}			
		domContainers[0].width = w * pRatio * sRatio;			
		domContainers[0].height = h * pRatio * sRatio;			
		domContainers.forEach(function(container) {				
			container.style.width = w * sRatio + 'px';				
			container.style.height = h * sRatio + 'px';			
		});			
		stage.scaleX = pRatio*sRatio;			
		stage.scaleY = pRatio*sRatio;			
		lastW = iw; lastH = ih; lastS = sRatio;            
		stage.tickOnUpdate = false;            
		stage.update();            
		stage.tickOnUpdate = true;		
	}
}


})(createjs = createjs||{}, AdobeAn = AdobeAn||{});
var createjs, AdobeAn;